"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[990],{9990:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});var s=i(5155),a=i(2115),o=i(1057),l=i.n(o),h=i(4298);class r extends Phaser.Scene{preload(){this.load.image("blue","img/blue.png"),this.load.image("yellow","img/yellow.png"),this.load.image("pink","img/boky.png"),this.load.image("white","img/white.png"),this.load.image("red","img/red.png"),this.load.image("green","img/green.png"),this.load.image("wok_coins","img/WokCoin.png"),this.load.image("dpotion","img/dpotion.png"),this.load.image("leppot","img/leppot.png"),this.load.image("bag1","img/bag1.png"),this.load.image("bag2","img/bag2.png"),this.load.image("skull","img/dead_sign.png"),this.load.image("sword","img/sword-r.png"),this.load.image("healthPotion","img/healthPotion.png"),this.load.image("whitesrc","img/whitesqr.png"),this.load.image("blueDice","img/blueDice.png"),this.load.image("greenDice","img/greenDice.png"),this.load.image("pinkDice","img/pinkDice.png"),this.load.image("redDice","img/redDice.png"),this.load.image("whiteDice","img/whiteDice.png"),this.load.image("yellowDice","img/yellowDice.png"),this.load.image("loadDice","img/load.png")}create(){this.socket=(0,h.io)("http://localhost:3001"),this.cameraX=this.cameras.main.width/2,this.cameraY=this.cameras.main.height/2,this.playersLogs=[],this.defualtColor=[{color:0xff0000,img:"redDice"},{color:0xffff00,img:"yellowDice"},{color:65280,img:"greenDice"},{color:0xffffff,img:"whiteDice"},{color:255,img:"blueDice"},{color:0xff00ff,img:"pinkDice"}],this.room=[];let e=()=>{var e=this.playersLogs.reduce((e,t)=>e+t.bet,0),t="#000",i=this.playersLogs[0].walletBal;this.add.rectangle(this.cameraX+450,this.cameraY-430,450,90,6895361),this.add.text(this.cameraX+450,this.cameraY-430," Wok Coins ("+i+")",{fontSize:"28px",color:"#fff",fontStyle:"bold"}).setOrigin(.5),this.add.image(this.cameraX+300,this.cameraY-430,"wok_coins").setDisplaySize(50,50),this.add.rectangle(this.cameraX,this.cameraY,510,360,0),this.add.rectangle(this.cameraX,this.cameraY,500,350,0xb0c4de),this.add.rectangle(this.cameraX,this.cameraY,450,250,4620980),this.add.text(this.cameraX,this.cameraY-100,["TOTAL PRIZE = "+e],{fontSize:"28px",color:t,fontStyle:"bold"}).setOrigin(.5);var s=5;this.container_countdown_respin=this.add.text(this.cameraX,this.cameraY+90,["Re - rolling in "+s+" sec..."],{fontSize:"24px",color:t,fontStyle:"bold"}).setOrigin(.5);let a=this.time.addEvent({delay:1e3,callback:()=>{s-=1,this.container_countdown_respin.setText("Re - rolling in "+s+" sec..."),s<=0&&a.remove()},loop:!0});this.box1=this.add.image(this.cameraX-130,this.cameraY,this.defualtColor[0].img).setDisplaySize(120,120).setVisible(!1),this.box2=this.add.image(this.cameraX,this.cameraY,this.defualtColor[0].img).setDisplaySize(120,120).setVisible(!1),this.box3=this.add.image(this.cameraX+130,this.cameraY,this.defualtColor[0].img).setDisplaySize(120,120).setVisible(!1),this.box1h=this.add.image(this.cameraX+360,this.cameraY-320,this.defualtColor[0].img).setDisplaySize(90,90).setVisible(!0),this.box2h=this.add.image(this.cameraX+460,this.cameraY-320,this.defualtColor[0].img).setDisplaySize(90,90),this.box3h=this.add.image(this.cameraX+560,this.cameraY-320,this.defualtColor[0].img).setDisplaySize(90,90),this.boxStart=this.add.image(this.cameraX,this.cameraY,"loadDice").setDisplaySize(300,280),this.bounceBox=!0,setTimeout(()=>{this.boxStart.setVisible(!1),this.spinning=setInterval(()=>{let e=Phaser.Math.Between(0,this.defualtColor.length-1);this.box1.setTexture(this.defualtColor[e].img).setVisible(!0);let t=Phaser.Math.Between(0,this.defualtColor.length-1);this.box2.setTexture(this.defualtColor[t].img).setVisible(!0);let i=Phaser.Math.Between(0,this.defualtColor.length-1);this.box3.setTexture(this.defualtColor[i].img).setVisible(!0)},100),this.rotateBounce(this.box1,this.bounceBox),this.rotateBounce(this.box2,this.bounceBox),this.rotateBounce(this.box3,this.bounceBox)},7200),this.imageDead=[],this.skull=[],this.imageAttack=[],this.imageShake=[],this.imageAttack_ani=[];let o=0,l=!0;this.boxResult=null;let h=()=>{if(!l)return;clearInterval(this.spinning),this.socket.emit("GenerateColors",this.room),this.box1.setTexture(this.boxResult[0].img),this.box2.setTexture(this.boxResult[1].img),this.box3.setTexture(this.boxResult[2].img);let i=o+=1;this.socket.emit("round",i),this.socket.on("round_result",e=>{this.container_countdown_respin.setText("Round "+e)}),setTimeout(()=>{this.spinning=setInterval(()=>{let e=Phaser.Math.Between(0,this.defualtColor.length-1);this.box1.setTexture(this.defualtColor[e].img);let t=Phaser.Math.Between(0,this.defualtColor.length-1);this.box2.setTexture(this.defualtColor[t].img);let i=Phaser.Math.Between(0,this.defualtColor.length-1);this.box3.setTexture(this.defualtColor[i].img)},100),this.rotateBounce(this.box1,this.bounceBox),this.rotateBounce(this.box2,this.bounceBox),this.rotateBounce(this.box3,this.bounceBox),this.socket.on("colorHistory",e=>{this.box1h.setTexture(e[0].img),this.box2h.setTexture(e[1].img),this.box3h.setTexture(e[2].img)})},4100);for(let i=0;i<this.playersLogs.length;i++)this.playersLogs[i].color===this.boxResult[0].color||this.playersLogs[i].color===this.boxResult[1].color||this.playersLogs[i].color===this.boxResult[2].color?(this.imageAttack_ani[i].setVisible(!0),setTimeout(()=>{this.imageAttack_ani[i].setVisible(!1)},1e3),this.rotateAttack(i),this.playersLogs[i].lifePoints+=1):setTimeout(()=>{this.playersLogs[i].lifePoints-=1,this.shakeDmg(i)},700),(this.playersLogs[i].color===this.boxResult[0].color&&this.playersLogs[i].color===this.boxResult[1].color||this.playersLogs[i].color===this.boxResult[0].color&&this.playersLogs[i].color===this.boxResult[2].color||this.playersLogs[i].color===this.boxResult[1].color&&this.playersLogs[i].color===this.boxResult[2].color)&&(this.rotateAttack(i),this.imageAttack_ani[i].setVisible(!0),setTimeout(()=>{this.imageAttack_ani[i].setVisible(!1)},1e3),this.playersLogs[i].lifePoints+=1),this.playersLogs[i].color===this.boxResult[0].color&&this.playersLogs[i].color===this.boxResult[1].color&&this.playersLogs[i].color===this.boxResult[2].color&&(this.rotateAttack(i),setTimeout(()=>{this.imageAttack_ani[i].setVisible(!1)},1e3),this.playersLogs[i].lifePoints+=1,this.imageAttack_ani[i].setVisible(!0)),this.playersLogs[i].lifePoints<=0?(this.playersLogs[i].lifePoints=NaN,this.playersLogs[i].luck=0,this.playersLogs[i].name="Dead",this.imageDead[i].setVisible(!1),this.skull[i].setTexture("skull").setVisible(!0),this.imageAttack_ani[i].destroy()):this.playersLogs[i].lifePoints>=15&&(this.socket.emit("Winners is",this.playersLogs[i].name),setTimeout(()=>{l=!1,setTimeout(()=>{this.add.rectangle(this.cameraX,this.cameraY,560,310,0),this.add.rectangle(this.cameraX,this.cameraY,550,300,0xffffff),this.add.text(this.cameraX,this.cameraY-100,["TOTAL PRIZE = "+e+" Wok"],{fontSize:"28px",color:t,fontStyle:"bold"}).setOrigin(.5),this.add.text(this.cameraX,this.cameraY+100,["The Winner is "+this.playersLogs[i].name],{fontSize:"28px",color:t,fontStyle:"bold"}).setOrigin(.5),this.add.image(this.cameraX,this.cameraY,this.playersLogs[i].img).setDisplaySize(120,120)},1e3)},2e3))};this.socket.emit("GenerateColors",this.boxColorResult),this.socket.on("ReceiveColor",e=>{this.boxResult=e}),setTimeout(()=>{setInterval(h,5e3)},2e3),this.player_info_p=[{x:this.cameraX-590,y:this.cameraY-70},{x:this.cameraX-570,y:this.cameraY+70},{x:this.cameraX-300,y:this.cameraY+220},{x:this.cameraX+190,y:this.cameraY+220},{x:this.cameraX+460,y:this.cameraY+70},{x:this.cameraX+460,y:this.cameraY-140}],this.player_ar=[{x:this.cameraX-360,y:this.cameraY-100},{x:this.cameraX-360,y:this.cameraY+100},{x:this.cameraX-90,y:this.cameraY+260},{x:this.cameraX+90,y:this.cameraY+260},{x:this.cameraX+360,y:this.cameraY+100},{x:this.cameraX+360,y:this.cameraY-100}],this.text_value=[];for(let e=1;e<this.playersLogs.length;e++){let i=this.add.text(this.player_info_p[e].x,this.player_info_p[e].y,this.playersLogs[e].name+"\nLM - "+this.playersLogs[e].LM+"\nLP - "+this.playersLogs[e].lifePoints,{fontSize:"24px",color:t,fontStyle:"bold"});this.text_value.push(i)}for(let e=0;e<this.playersLogs.length;e++){this.add.rectangle(this.player_ar[e].x,this.player_ar[e].y,150,150,this.playersLogs[e].color);let t=this.add.image(this.player_ar[e].x,this.player_ar[e].y,this.playersLogs[e].img).setDisplaySize(140,140).setVisible(!1),i=this.add.image(this.player_ar[e].x,this.player_ar[e].y,this.playersLogs[e].img).setDisplaySize(140,140),s=this.add.image(this.player_ar[e].x,this.player_ar[e].y,"sword").setDisplaySize(140,140).setVisible(!1);this.imageShake.push({image:i,originalX:i.x,originalY:i.y}),this.imageAttack.push({image:s,originalX:s.x,originalY:s.y}),this.imageAttack_ani.push(s),this.imageDead.push(i),this.skull.push(t)}this.mainplayerinfo_text=this.add.text(this.cameraX-430,this.cameraY-420,[this.playersLogs[0].name+"\n - LUCK Multiplayer - "+this.playersLogs[0].lifePoints+" LIFE POINTS"],{fontSize:"34px",color:t,fontStyle:"bold"}),this.add.rectangle(this.cameraX-540,this.cameraY-340,190,190,this.playersLogs[0].color),this.add.image(this.cameraX-540,this.cameraY-340,this.playersLogs[0].img).setDisplaySize(180,180);var r=this.add.rectangle(this.cameraX,this.cameraY+340,520,370,0).setVisible(!1),n=this.add.rectangle(this.cameraX,this.cameraY+340,510,360,0xffffff).setVisible(!1),g=this.add.image(this.cameraX-100,this.cameraY+300,"dpotion").setDisplaySize(140,140).setInteractive().setVisible(!1);g.on("pointerdown",()=>{this.buttonClick1()});var c=this.add.text(this.cameraX-140,this.cameraY+370,"Dpotion",{fontSize:"24px",color:"#000",fontStyle:"bold"}).setVisible(!1);this.dpotion=this.add.text(this.cameraX-70,this.cameraY+230,""+this.playersLogs[0].dpotion+"x",{fontSize:"42px",color:"#000",fontStyle:"bold"}).setVisible(!1);let m=this.add.image(this.cameraX+100,this.cameraY+300,"leppot").setDisplaySize(140,140).setInteractive().setVisible(!1);m.on("pointerdown",()=>{m.disableInteractive(),isNaN(this.playersLogs[0].lifePoints)||this.playersLogs[0].lifePoints>=15||this.playersLogs[1].lifePoints>=15||this.playersLogs[2].lifePoints>=15||this.playersLogs[3].lifePoints>=15||this.playersLogs[4].lifePoints>=15||this.playersLogs[5].lifePoints>=15?m.disableInteractive():this.buttonClick2()}),this.leppot=this.add.text(this.cameraX+150,this.cameraY+230,""+this.playersLogs[0].leppot+"x",{fontSize:"42px",color:"#000",fontStyle:"bold"}).setVisible(!1);var p=this.add.text(this.cameraX+60,this.cameraY+370,"Leppot",{fontSize:"24px",color:"#000",fontStyle:"bold"}).setVisible(!1),d=this.add.image(this.cameraX+540,this.cameraY+370,"bag2").setDisplaySize(110,120).setInteractive();let y=!1;d.on("pointerdown",()=>{y?(d.setTexture("bag2"),n.setVisible(!1),r.setVisible(!1),g.setVisible(!1),m.setVisible(!1),c.setVisible(!1),p.setVisible(!1),this.leppot.setVisible(!1),this.dpotion.setVisible(!1)):(d.setTexture("bag1"),n.setVisible(!0),r.setVisible(!0),g.setVisible(!0),m.setVisible(!0),c.setVisible(!0),p.setVisible(!0),this.leppot.setVisible(!0),this.dpotion.setVisible(!0)),y=!y})},t=this.add.text(this.cameraX,this.cameraY,"Waiting For Others Players",{font:"34px",color:"#000",fontStyle:"bold"}).setOrigin(.5,.5);this.socket.on("SetCount",e=>{t.setText("Waiting For Others Players "+e+"/6")});let i=this.add.text(this.cameraX,this.cameraY-440,"Waiting For Others Players",{font:"34px",color:"#000",fontStyle:"bold"}).setOrigin(.5,.5);this.socket.on("roomAssign",e=>{i.setText(e),this.room=e}),this.socket.on("InputPlayer",i=>{t.destroy();let s=this.socket.id,a=i.findIndex(e=>e.id===s);if(-1!==a){let e=i.splice(a,1)[0];e&&i.unshift(e)}this.playersLogs=i,setTimeout(e,2e3),setTimeout(()=>{this.updateFunction=!0},5e3)}),this.updateFunction=!1}buttonClick1(){if(this.playersLogs[0].lifePoints<=5){let e=.7>Math.random()?-2:7;this.playersLogs[0].lifePoints=Math.max(1,this.playersLogs[0].lifePoints+e),this.playersLogs[0].dpotion>=1?this.playersLogs[0].dpotion-=1:alert("Buy Another One")}}buttonClick2(){if(this.playersLogs[0].LM>=0){var e=Math.floor(10*Phaser.Math.FloatBetween(.2,.8))/10;this.playersLogs[0].leppot>=1?(this.playersLogs[0].LM+=e,this.playersLogs[0].leppot-=1,this.playersLogs[0].luck+=e):alert("Buy Another One?")}}rotateBounce(e,t){this.tweens.add({targets:e,y:e.y-30,angle:360,ease:"Sine.easeInOut",duration:150,yoyo:!0,repeat:2})}rotateAttack(e){let t=this.imageAttack[e];t&&t.image&&this.tweens.add({targets:t.image,angle:360,duration:500,ease:"easeInOut"})}shakeDmg(e){let t=this.imageShake[e];t&&t.image&&this.tweens.add({targets:t.image,x:t.originalX+Phaser.Math.Between(-5,5),y:t.originalY+Phaser.Math.Between(-5,5),angle:Phaser.Math.Between(-5,5),alpha:.3,duration:50,yoyo:!0,repeat:3,onComplete:()=>{t.image.x=t.originalX,t.image.y=t.originalY,t.image.setAngle(0)}})}update(){if(this.updateFunction){this.mainplayerinfo_text.setText([this.playersLogs[0].name+"\nLUCK Multiplayer - "+this.playersLogs[0].LM+"\nLIFE POINTS - "+this.playersLogs[0].lifePoints]),this.dpotion.setText(this.playersLogs[0].dpotion+"x"),this.leppot.setText(this.playersLogs[0].leppot+"x");for(let e=1;e<this.playersLogs.length;e++)this.text_value[e-1]&&this.text_value[e-1].setText(this.playersLogs[e].name+"\nLM - "+this.playersLogs[e].LM+"\nLP - "+this.playersLogs[e].lifePoints)}}constructor(){super("Start")}}let n=()=>((0,a.useEffect)(()=>{if(!window.game){console.log("Initializing Phaser game...");let e={type:l().AUTO,parent:"game-container",width:1296,height:926,scene:[r],backgroundColor:"#87CEEB",scale:{mode:l().Scale.FIT,autoCenter:l().Scale.CENTER_BOTH}};window.game=new(l()).Game(e)}return()=>{window.game&&(console.log("Destroying Phaser game..."),window.game.destroy(!0),window.game=null)}},[]),(0,s.jsx)("div",{id:"game-container",className:"game-container"}))}}]);